'use strict';const a13_0x5011e2=a13_0x44ad;function a13_0x44ad(_0x2e2c52,_0x51ba50){const _0x10893a=a13_0x1089();return a13_0x44ad=function(_0x44add1,_0x4cd708){_0x44add1=_0x44add1-0x137;let _0x400927=_0x10893a[_0x44add1];return _0x400927;},a13_0x44ad(_0x2e2c52,_0x51ba50);}(function(_0x266f79,_0x435966){const _0x5a4cef=a13_0x44ad,_0x2fefda=_0x266f79();while(!![]){try{const _0x2444b4=parseInt(_0x5a4cef(0x17d))/0x1+-parseInt(_0x5a4cef(0x143))/0x2*(-parseInt(_0x5a4cef(0x160))/0x3)+-parseInt(_0x5a4cef(0x169))/0x4*(parseInt(_0x5a4cef(0x15b))/0x5)+-parseInt(_0x5a4cef(0x184))/0x6*(-parseInt(_0x5a4cef(0x168))/0x7)+parseInt(_0x5a4cef(0x152))/0x8*(parseInt(_0x5a4cef(0x164))/0x9)+-parseInt(_0x5a4cef(0x13c))/0xa*(-parseInt(_0x5a4cef(0x158))/0xb)+parseInt(_0x5a4cef(0x180))/0xc*(-parseInt(_0x5a4cef(0x181))/0xd);if(_0x2444b4===_0x435966)break;else _0x2fefda['push'](_0x2fefda['shift']());}catch(_0x3e6696){_0x2fefda['push'](_0x2fefda['shift']());}}}(a13_0x1089,0x63563));function a13_0x1089(){const _0x53b387=['warn','defineProperty','10661ohoums','13228uUEcLz','log','main','No\x20IPv4\x20address\x20found\x20for\x20interface\x20\x27','split','HttpService','parseData','http://127.0.0.1:5000/denied','logger','Events','validateOnBeka','post','metadata','env','get','IPv4','card:\x20','Data','totem_id','validateTicket','577888fRPRaU','printDataReceived','rxjs','18192otsmDR','12896IFItWY','getLocalIpAddresses','image/jpeg','2202PqisuU','internal','checkinOnBeka','length','http://10.17.50.2:3002/tickets/checkin','id:\x20','design:paramtypes','decorate','--myboundary\x0d\x0a','error','1089670cypavg','error\x20on\x20beka....\x20o.O','httpService','http://10.17.50.2:3002/tickets/document','....validation\x20on\x20beka...','toString','Interface\x20\x27','958aaDiJc','beka\x20response\x20status\x20','__decorate','UserID','data','beka\x20response\x20','http://127.0.0.1:5000/doublentry','includes','Logger','CardNo','family','lastValueFrom','Content-Type','name','TOTEM','8Jsgibr','ledDenyEntrance','__metadata','ledAllowEntrance','stringify','IntelbrasService','77otKHtf','slice','getOwnPropertyDescriptor','875DUeNco','error-ip','verbose','success','object','2313vaaJPi','Method','join','address','1985157yfPtPe','status'];a13_0x1089=function(){return _0x53b387;};return a13_0x1089();}var __decorate=this&&this[a13_0x5011e2(0x145)]||function(_0x540030,_0x594aa3,_0x4738a4,_0x340e00){const _0x3ac32d=a13_0x5011e2;var _0x132e0c=arguments[_0x3ac32d(0x187)],_0x1bee4b=_0x132e0c<0x3?_0x594aa3:_0x340e00===null?_0x340e00=Object[_0x3ac32d(0x15a)](_0x594aa3,_0x4738a4):_0x340e00,_0x128f6e;if(typeof Reflect==='object'&&typeof Reflect[_0x3ac32d(0x139)]==='function')_0x1bee4b=Reflect[_0x3ac32d(0x139)](_0x540030,_0x594aa3,_0x4738a4,_0x340e00);else{for(var _0x55912c=_0x540030[_0x3ac32d(0x187)]-0x1;_0x55912c>=0x0;_0x55912c--)if(_0x128f6e=_0x540030[_0x55912c])_0x1bee4b=(_0x132e0c<0x3?_0x128f6e(_0x1bee4b):_0x132e0c>0x3?_0x128f6e(_0x594aa3,_0x4738a4,_0x1bee4b):_0x128f6e(_0x594aa3,_0x4738a4))||_0x1bee4b;}return _0x132e0c>0x3&&_0x1bee4b&&Object[_0x3ac32d(0x167)](_0x594aa3,_0x4738a4,_0x1bee4b),_0x1bee4b;},__metadata=this&&this[a13_0x5011e2(0x154)]||function(_0x216604,_0x293bad){const _0x24d405=a13_0x5011e2;if(typeof Reflect===_0x24d405(0x15f)&&typeof Reflect[_0x24d405(0x175)]==='function')return Reflect['metadata'](_0x216604,_0x293bad);},IntelbrasService_1;Object[a13_0x5011e2(0x167)](exports,'__esModule',{'value':!![]}),exports[a13_0x5011e2(0x157)]=void 0x0;const common_1=require('@nestjs/common'),rxjs_1=require(a13_0x5011e2(0x17f)),axios_1=require('@nestjs/axios'),os_1=require('os');let IntelbrasService=IntelbrasService_1=class IntelbrasService{constructor(_0x4d2c6b){const _0x3774c0=a13_0x5011e2;this[_0x3774c0(0x13e)]=_0x4d2c6b,this[_0x3774c0(0x171)]=new common_1[(_0x3774c0(0x14b))](IntelbrasService_1[_0x3774c0(0x150)]);}[a13_0x5011e2(0x16f)](_0x453650){const _0x531b3a=a13_0x5011e2,_0x4a1ef7=_0x453650[_0x531b3a(0x141)]()[_0x531b3a(0x16d)](_0x531b3a(0x13a));if(_0x4a1ef7){let _0x30b627;for(const _0x62a0aa of _0x4a1ef7){if(_0x62a0aa[_0x531b3a(0x14a)](_0x531b3a(0x14f))){const _0x635f97=_0x62a0aa['split']('\x0d\x0a'),_0x353e25=_0x635f97[0x0][_0x531b3a(0x16d)](':\x20')[0x1];if(_0x353e25==_0x531b3a(0x183)){}else _0x30b627=_0x635f97[_0x531b3a(0x159)](0x3,-0x1)[_0x531b3a(0x162)]('\x0d\x0a');}}return _0x30b627;}else return![];}[a13_0x5011e2(0x17e)](_0x302b4c){const _0x421ae6=a13_0x5011e2;var _0x322e69,_0x2c22a1,_0x3f9c80,_0x5495b0;this[_0x421ae6(0x171)][_0x421ae6(0x15d)]('name:\x20'+((_0x322e69=_0x302b4c[_0x421ae6(0x172)][0x0][_0x421ae6(0x17a)])===null||_0x322e69===void 0x0?void 0x0:_0x322e69['CardName'])),this[_0x421ae6(0x171)][_0x421ae6(0x15d)](_0x421ae6(0x179)+((_0x2c22a1=_0x302b4c[_0x421ae6(0x172)][0x0][_0x421ae6(0x17a)])===null||_0x2c22a1===void 0x0?void 0x0:_0x2c22a1[_0x421ae6(0x14c)])),this[_0x421ae6(0x171)][_0x421ae6(0x15d)](_0x421ae6(0x137)+((_0x3f9c80=_0x302b4c[_0x421ae6(0x172)][0x0][_0x421ae6(0x17a)])===null||_0x3f9c80===void 0x0?void 0x0:_0x3f9c80[_0x421ae6(0x146)])),this[_0x421ae6(0x171)]['verbose']('Method:\x20'+((_0x5495b0=_0x302b4c[_0x421ae6(0x172)][0x0]['Data'])===null||_0x5495b0===void 0x0?void 0x0:_0x5495b0[_0x421ae6(0x161)]));}async[a13_0x5011e2(0x17c)](_0x277689,_0x1f08b5){const _0x5b0504=a13_0x5011e2;try{if(_0x277689){this[_0x5b0504(0x171)]['log'](_0x5b0504(0x140)),this[_0x5b0504(0x171)][_0x5b0504(0x16a)](_0x277689),this['logger'][_0x5b0504(0x16a)](_0x1f08b5),this[_0x5b0504(0x171)][_0x5b0504(0x16a)](process[_0x5b0504(0x176)][_0x5b0504(0x151)]||'totem_id');const _0x5455d4={'hash':_0x277689,'checkInType':_0x1f08b5,'checkInDevice':process[_0x5b0504(0x176)]['TOTEM']||_0x5b0504(0x17b),'gateId':_0x5b0504(0x16b)};this['logger'][_0x5b0504(0x15d)](_0x5455d4);const _0x5e3ca2=await this[_0x5b0504(0x173)](_0x5455d4);this['logger'][_0x5b0504(0x166)](_0x5e3ca2[_0x5b0504(0x165)]);switch(_0x5e3ca2['status']){case _0x5b0504(0x15e):await this[_0x5b0504(0x155)](),this['checkinOnBeka'](_0x5455d4);break;case'double_entry':await this['ledDoubleEntrance']();break;default:await this[_0x5b0504(0x153)]();}}else return![];}catch(_0x4bd566){this[_0x5b0504(0x171)][_0x5b0504(0x13b)](_0x5b0504(0x13d)),this[_0x5b0504(0x171)][_0x5b0504(0x13b)](JSON[_0x5b0504(0x156)](_0x4bd566));}}async[a13_0x5011e2(0x173)](_0x57b5ad){const _0x44f116=a13_0x5011e2;this[_0x44f116(0x171)]['verbose'](_0x57b5ad);const _0x22e99a=await(0x0,rxjs_1[_0x44f116(0x14e)])(this[_0x44f116(0x13e)][_0x44f116(0x174)](_0x44f116(0x13f),_0x57b5ad));return this[_0x44f116(0x171)]['log'](_0x44f116(0x144)+_0x22e99a[_0x44f116(0x165)]),this['logger'][_0x44f116(0x16a)](_0x44f116(0x148)+JSON['stringify'](_0x22e99a===null||_0x22e99a===void 0x0?void 0x0:_0x22e99a['data'])),_0x22e99a===null||_0x22e99a===void 0x0?void 0x0:_0x22e99a[_0x44f116(0x147)];}async[a13_0x5011e2(0x186)](_0x43bfca){const _0x4976d8=a13_0x5011e2;this['logger']['verbose'](_0x43bfca);const _0x29971b=await(0x0,rxjs_1[_0x4976d8(0x14e)])(this[_0x4976d8(0x13e)][_0x4976d8(0x174)](_0x4976d8(0x188),_0x43bfca));return this[_0x4976d8(0x171)][_0x4976d8(0x16a)](_0x4976d8(0x144)+_0x29971b['status']),this[_0x4976d8(0x171)]['log'](_0x4976d8(0x148)+JSON[_0x4976d8(0x156)](_0x29971b===null||_0x29971b===void 0x0?void 0x0:_0x29971b[_0x4976d8(0x147)])),_0x29971b===null||_0x29971b===void 0x0?void 0x0:_0x29971b[_0x4976d8(0x147)];}async['ledDoubleEntrance'](){const _0x34a384=a13_0x5011e2;try{return await(0x0,rxjs_1['lastValueFrom'])(this[_0x34a384(0x13e)][_0x34a384(0x177)](_0x34a384(0x149)));}catch(_0x7d56cc){return this[_0x34a384(0x171)][_0x34a384(0x13b)](_0x7d56cc),![];}}async['ledAllowEntrance'](){const _0x72648e=a13_0x5011e2;try{return await(0x0,rxjs_1[_0x72648e(0x14e)])(this[_0x72648e(0x13e)][_0x72648e(0x177)]('http://127.0.0.1:5000/allowed'));}catch(_0x367b5b){return this[_0x72648e(0x171)]['error'](_0x367b5b),![];}}async[a13_0x5011e2(0x153)](){const _0x17a90f=a13_0x5011e2;try{return await(0x0,rxjs_1[_0x17a90f(0x14e)])(this[_0x17a90f(0x13e)][_0x17a90f(0x177)](_0x17a90f(0x170)));}catch(_0x3987a8){return this[_0x17a90f(0x171)]['error'](_0x3987a8),![];}}[a13_0x5011e2(0x182)](_0x5c97b4){const _0x5cfadb=a13_0x5011e2,_0x1a22d5=os_1['default']['networkInterfaces'](),_0x29b245=_0x1a22d5[_0x5c97b4];if(!_0x29b245)return console[_0x5cfadb(0x166)](_0x5cfadb(0x142)+_0x5c97b4+'\x27\x20not\x20found.'),null;for(const _0x51aaa1 of _0x29b245){if(_0x51aaa1[_0x5cfadb(0x14d)]===_0x5cfadb(0x178)&&!_0x51aaa1[_0x5cfadb(0x185)])return _0x51aaa1[_0x5cfadb(0x163)];}return console['warn'](_0x5cfadb(0x16c)+_0x5c97b4+'\x27.'),_0x5cfadb(0x15c);}};IntelbrasService=IntelbrasService_1=__decorate([(0x0,common_1['Injectable'])(),__metadata(a13_0x5011e2(0x138),[axios_1[a13_0x5011e2(0x16e)]])],IntelbrasService),exports[a13_0x5011e2(0x157)]=IntelbrasService;