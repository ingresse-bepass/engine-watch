'use strict';const a10_0x14cb2a=a10_0x1920;(function(_0x32f17c,_0x113acc){const _0x1f673d=a10_0x1920,_0x3747b1=_0x32f17c();while(!![]){try{const _0x57351a=parseInt(_0x1f673d(0x74))/0x1+parseInt(_0x1f673d(0x75))/0x2+parseInt(_0x1f673d(0x96))/0x3+-parseInt(_0x1f673d(0x69))/0x4+-parseInt(_0x1f673d(0xaa))/0x5+parseInt(_0x1f673d(0xa5))/0x6+-parseInt(_0x1f673d(0x99))/0x7*(-parseInt(_0x1f673d(0x93))/0x8);if(_0x57351a===_0x113acc)break;else _0x3747b1['push'](_0x3747b1['shift']());}catch(_0x35cffe){_0x3747b1['push'](_0x3747b1['shift']());}}}(a10_0x2f12,0x2e2fd));var __decorate=this&&this[a10_0x14cb2a(0x7a)]||function(_0x573954,_0x5311e5,_0x42f0e7,_0x27764a){const _0x335f39=a10_0x14cb2a;var _0x48915c=arguments[_0x335f39(0x7d)],_0x3cba13=_0x48915c<0x3?_0x5311e5:_0x27764a===null?_0x27764a=Object[_0x335f39(0xb6)](_0x5311e5,_0x42f0e7):_0x27764a,_0xbc83ce;if(typeof Reflect==='object'&&typeof Reflect[_0x335f39(0xa0)]==='function')_0x3cba13=Reflect[_0x335f39(0xa0)](_0x573954,_0x5311e5,_0x42f0e7,_0x27764a);else{for(var _0x144df1=_0x573954[_0x335f39(0x7d)]-0x1;_0x144df1>=0x0;_0x144df1--)if(_0xbc83ce=_0x573954[_0x144df1])_0x3cba13=(_0x48915c<0x3?_0xbc83ce(_0x3cba13):_0x48915c>0x3?_0xbc83ce(_0x5311e5,_0x42f0e7,_0x3cba13):_0xbc83ce(_0x5311e5,_0x42f0e7))||_0x3cba13;}return _0x48915c>0x3&&_0x3cba13&&Object[_0x335f39(0x84)](_0x5311e5,_0x42f0e7,_0x3cba13),_0x3cba13;},__metadata=this&&this[a10_0x14cb2a(0xa8)]||function(_0x382dc9,_0xaa39e9){const _0x98b17d=a10_0x14cb2a;if(typeof Reflect===_0x98b17d(0xa2)&&typeof Reflect[_0x98b17d(0xab)]===_0x98b17d(0xb5))return Reflect[_0x98b17d(0xab)](_0x382dc9,_0xaa39e9);},IntelbrasService_1;function a10_0x2f12(){const _0x344e54=['http://192.168.5.10:6000/notify-entry','name','debug','httpService','family','response','Method','error-ip','miresponde:','found','284053YAxgRH','25288mNiMsQ','sendTicketToASC','TOTEM_ID','printDataReceived','lastValueFrom','__decorate','error\x20on\x20beka....\x20o.O','rxjs','length','http://127.0.0.1:5000/doublentry','Logger','ledDoubleEntrance','getLocalIpAddresses','image/jpeg','Data','defineProperty','Events','TOTEM_ID:','http://127.0.0.1:5000/denied','beka\x20response\x20','error','Injectable','post','double_entrance','CardNo','HttpService','UserID','Method:\x20','split','verbose','99184WLaDdh','eth0','unknow','347556uYUVdx','design:paramtypes','id:\x20','56CtLfeR','IntelbrasService','env','card:\x20','data','beka\x20response\x20status\x20','wrong_gate','decorate','slice','object','log','Content-Type','694506GAJDYd','networkInterfaces','not_found','__metadata','ledAllowEntrance','607670OhrcHN','metadata','includes','name:\x20','status','toString','get','@nestjs/common','stringify','CardName','address','function','getOwnPropertyDescriptor','logger','default','--myboundary\x0d\x0a','1267076xIzFOF'];a10_0x2f12=function(){return _0x344e54;};return a10_0x2f12();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a10_0x14cb2a(0x9a)]=void 0x0;const common_1=require(a10_0x14cb2a(0xb1)),rxjs_1=require(a10_0x14cb2a(0x7c)),axios_1=require('@nestjs/axios'),os_1=require('os');let IntelbrasService=IntelbrasService_1=class IntelbrasService{constructor(_0x1f7377){const _0x3717f5=a10_0x14cb2a;this[_0x3717f5(0x6d)]=_0x1f7377,this[_0x3717f5(0xb7)]=new common_1[(_0x3717f5(0x7f))](IntelbrasService_1[_0x3717f5(0x6b)]);}['parseData'](_0x55ef51){const _0x44f637=a10_0x14cb2a,_0x2cff3d=_0x55ef51[_0x44f637(0xaf)]()[_0x44f637(0x91)](_0x44f637(0x68));if(_0x2cff3d){let _0x316ee5;for(const _0x2ad99b of _0x2cff3d){if(_0x2ad99b[_0x44f637(0xac)](_0x44f637(0xa4))){const _0x43ee17=_0x2ad99b[_0x44f637(0x91)]('\x0d\x0a'),_0x5f008a=_0x43ee17[0x0]['split'](':\x20')[0x1];if(_0x5f008a==_0x44f637(0x82)){}else _0x316ee5=_0x43ee17[_0x44f637(0xa1)](0x3,-0x1)['join']('\x0d\x0a');}}return _0x316ee5;}else return![];}[a10_0x14cb2a(0x78)](_0xe8a24b){const _0x341d1d=a10_0x14cb2a;this['logger'][_0x341d1d(0x92)](_0x341d1d(0xad)+_0xe8a24b[_0x341d1d(0x85)][0x0][_0x341d1d(0x83)]?.[_0x341d1d(0xb3)]),this[_0x341d1d(0xb7)]['verbose'](_0x341d1d(0x9c)+_0xe8a24b[_0x341d1d(0x85)][0x0][_0x341d1d(0x83)]?.[_0x341d1d(0x8d)]),this[_0x341d1d(0xb7)][_0x341d1d(0x92)](_0x341d1d(0x98)+_0xe8a24b[_0x341d1d(0x85)][0x0]['Data']?.[_0x341d1d(0x8f)]),this['logger'][_0x341d1d(0x92)](_0x341d1d(0x90)+_0xe8a24b['Events'][0x0][_0x341d1d(0x83)]?.[_0x341d1d(0x70)]);}async['validateOnBeka'](_0x58db9b,_0x25c4e2){const _0x529a12=a10_0x14cb2a;try{if(_0x58db9b){console['log']('....validation\x20on\x20beka...');const _0x433d49={'document':_0x58db9b,'checkInType':_0x25c4e2,'checkInDevice':process['env']['TOTEM_ID'],'gateId':'7'};console[_0x529a12(0xa3)](_0x433d49);const _0x5ad844=await(0x0,rxjs_1[_0x529a12(0x79)])(this['httpService'][_0x529a12(0x8b)]('http://192.168.7.7:3001/tickets/document',_0x433d49));return console['log'](_0x529a12(0x9e)+_0x5ad844[_0x529a12(0xae)]),console[_0x529a12(0xa3)](_0x529a12(0x88)+JSON['stringify'](_0x5ad844?.['data'])),_0x5ad844?.[_0x529a12(0x9d)];}else return![];}catch(_0x482d4c){console['error'](_0x529a12(0x7b)),console[_0x529a12(0x89)](JSON[_0x529a12(0xb2)](_0x482d4c));}}async[a10_0x14cb2a(0x80)](){const _0xa691e8=a10_0x14cb2a;try{return await(0x0,rxjs_1['lastValueFrom'])(this['httpService'][_0xa691e8(0xb0)](_0xa691e8(0x7e)));}catch(_0x549e7d){return![];}}async[a10_0x14cb2a(0xa9)](){const _0x158347=a10_0x14cb2a;try{return await(0x0,rxjs_1[_0x158347(0x79)])(this[_0x158347(0x6d)][_0x158347(0xb0)]('http://127.0.0.1:5000/allowed'));}catch(_0x8cf2b7){return![];}}async['ledDenyEntrance'](){const _0x3673be=a10_0x14cb2a;try{return await(0x0,rxjs_1[_0x3673be(0x79)])(this[_0x3673be(0x6d)][_0x3673be(0xb0)](_0x3673be(0x87)));}catch(_0xc5ef67){return![];}}[a10_0x14cb2a(0x81)](){const _0x26985a=a10_0x14cb2a,_0x19969f=os_1[_0x26985a(0xb8)][_0x26985a(0xa6)]();if(_0x19969f['eth0'])for(const _0x283924 of _0x19969f[_0x26985a(0x94)]){if(_0x283924[_0x26985a(0x6e)]==='IPv4'&&!_0x283924['internal'])return _0x283924[_0x26985a(0xb4)];}return _0x26985a(0x71);}async[a10_0x14cb2a(0x76)](_0x1bf369){const _0x181180=a10_0x14cb2a;try{console[_0x181180(0xa3)]('ticketId:',_0x1bf369),console[_0x181180(0xa3)](_0x181180(0x86),process[_0x181180(0x9b)][_0x181180(0x77)]);const _0x4c0917=await(0x0,rxjs_1[_0x181180(0x79)])(this['httpService']['post'](_0x181180(0x6a),{'device':process[_0x181180(0x9b)]['TOTEM_ID'],'idUser':_0x1bf369})),{status:_0x1238a2,message:_0x4f2bf6}=_0x4c0917;console[_0x181180(0xa3)]({'status':_0x1238a2}),console[_0x181180(0x6c)](_0x181180(0x72)),console[_0x181180(0xa3)](_0x4c0917[_0x181180(0x9d)]);switch(_0x1238a2){case 0xc8:return _0x181180(0x73);case 0x194:return _0x181180(0xa7);case 0x1a2:return _0x181180(0x8c);case 0x1a5:return _0x181180(0x9f);default:return'unknow';}}catch(_0x4a0c82){console[_0x181180(0x89)](JSON['stringify'](_0x4a0c82));switch(_0x4a0c82[_0x181180(0x6f)][_0x181180(0xae)]){case 0xc8:return'found';case 0x194:return _0x181180(0xa7);case 0x1a2:return _0x181180(0x8c);case 0x1a5:return _0x181180(0x9f);default:return _0x181180(0x95);}}}};function a10_0x1920(_0x209ffc,_0x573ed3){const _0x2f1243=a10_0x2f12();return a10_0x1920=function(_0x1920fe,_0x1c67a8){_0x1920fe=_0x1920fe-0x68;let _0x6da1c1=_0x2f1243[_0x1920fe];return _0x6da1c1;},a10_0x1920(_0x209ffc,_0x573ed3);}exports[a10_0x14cb2a(0x9a)]=IntelbrasService,exports['IntelbrasService']=IntelbrasService=IntelbrasService_1=__decorate([(0x0,common_1[a10_0x14cb2a(0x8a)])(),__metadata(a10_0x14cb2a(0x97),[axios_1[a10_0x14cb2a(0x8e)]])],IntelbrasService);